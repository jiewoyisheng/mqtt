

###有效载荷
客户标识符，遗嘱主题，遗嘱消息，用户名，密码
####客户端标识符
服务端用客户端标识符识别客户端，连接服务端的客户端都有唯一的客户端标识符clientld,客户端和服务端都必须用clientld识别两者之间的MQTT会话相关的状态。
客户端必须存在，而且为connect报文的第一个字段。必须为utf-8编码


如果客户端提供一个零字节的客户端标识符，它必须同时清理会话标志设置为1。
####遗嘱主题
will flag 置1 有效载荷的下一个字段是遗嘱主题 will topic  utf-8编码
####遗嘱消息
遗嘱消息定义遗嘱主题应用消息这个字段有两个字节的长度和遗嘱消息的有效载荷组成，长度表示后面数据的字节数，不包括长度字段的占用的两个字节。

####用户名
如果用户标志 username 1 有效载荷就包含他，utf-8编码，服务端用它身份验证和授权。

####密码
password标志 1 密码字段包含一个两字节的长度 表示密码的长度0-65535个字节。

###响应

如果服务器支持mqtt3.1.1 那么它应该按照下面的方法验证连接

1. 网络连接建立后，如果服务端在合理的时间内没有收到connect报文，服务端应该关闭这个连接。
2.  服务端必须按照connect报文，如果不符合规范，服务端不发送connack报文直到关闭网络连接
3. 服务端可以检查connnect 报文的内容是不是满足任何进一步的限制，可以限制身份验证和授权检查，如果任何一项检查没有通过，应当发送一个适当的、返回码非零的connnack响应，并且必须关闭这个网络连接。

如果验证成功，服务端执行下面的步骤 
1. 如果clientld表示客户端已经连接到这个服务端了，呢么服务端必须断开原有的客户端的连接。
2. 服务端必须按照前面要求清理会话
3. 服务端必须发送返回码为0的connack报文作为connect报文的确认响应。
4. 开始消息发送和保持连接状态。

